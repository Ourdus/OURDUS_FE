{"ast":null,"code":"import axios from 'axios';\n\nclass AuthenticationService {\n  // send username, password to the SERVER\n  executeJwtAuthenticationService(email, name, password, tel, point, writerFlag) {\n    return axios.post('api/user/join', {\n      email,\n      name,\n      password,\n      tel,\n      point,\n      writerFlag\n    });\n  }\n\n  executeHelloService() {\n    console.log(\"===executeHelloService===\");\n  }\n\n  registerSuccessfulLoginForJwt(username, token) {\n    console.log(\"===registerSuccessfulLoginForJwt===\");\n    localStorage.setToken('token', token);\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorageService.getAccessToken();\n    localStorage.setItem('authenticatedUser', username); // sessionStorage.setItem('authenticatedUser', username)\n    //this.setupAxiosInterceptors(this.createJWTToken(token))\n\n    this.setupAxiosInterceptors();\n  }\n\n  createJWTToken(token) {\n    return 'Bearer ' + token;\n  }\n\n  setupAxiosInterceptors() {\n    axios.interceptors.request.use(config => {\n      const token = localStorage.getItem('token');\n\n      if (token) {\n        config.headers['Authorization'] = 'Bearer ' + token;\n      } // config.headers['Content-Type'] = 'application/json';\n\n\n      return config;\n    }, error => {\n      Promise.reject(error);\n    });\n  }\n\n  logout() {\n    //sessionStorage.removeItem('authenticatedUser');\n    localStorage.removeItem(\"authenticatedUser\");\n    localStorage.removeItem(\"token\");\n  }\n\n  isUserLoggedIn() {\n    const token = localStorage.getItem('token');\n    console.log(\"===UserloggedInCheck===\");\n    console.log(token);\n\n    if (token) {\n      return true;\n    }\n\n    return false;\n  }\n\n  getLoggedInUserName() {\n    //let user = sessionStorage.getItem('authenticatedUser')\n    let user = localStorage.getItem('authenticatedUser');\n    if (user === null) return '';\n    return user;\n  }\n\n}\n\nexport default new AuthenticationService();","map":{"version":3,"sources":["/Users/Kimbangg/Desktop/OURDUS_FE/src/components/views/LoginPage/ AuthenticationService.js"],"names":["axios","AuthenticationService","executeJwtAuthenticationService","email","name","password","tel","point","writerFlag","post","executeHelloService","console","log","registerSuccessfulLoginForJwt","username","token","localStorage","setToken","defaults","headers","common","localStorageService","getAccessToken","setItem","setupAxiosInterceptors","createJWTToken","interceptors","request","use","config","getItem","error","Promise","reject","logout","removeItem","isUserLoggedIn","getLoggedInUserName","user"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,qBAAN,CAA4B;AACxB;AACAC,EAAAA,+BAA+B,CAACC,KAAD,EAAQC,IAAR,EAAcC,QAAd,EAAuBC,GAAvB,EAA4BC,KAA5B,EAAmCC,UAAnC,EAA+C;AAC1E,WAAOR,KAAK,CAACS,IAAN,CAAW,eAAX,EAA4B;AAC/BN,MAAAA,KAD+B;AAE/BC,MAAAA,IAF+B;AAG/BC,MAAAA,QAH+B;AAI/BC,MAAAA,GAJ+B;AAK/BC,MAAAA,KAL+B;AAM/BC,MAAAA;AAN+B,KAA5B,CAAP;AAQH;;AAEDE,EAAAA,mBAAmB,GAAG;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACH;;AAEDC,EAAAA,6BAA6B,CAACC,QAAD,EAAWC,KAAX,EAAkB;AAC3CJ,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACAI,IAAAA,YAAY,CAACC,QAAb,CAAsB,OAAtB,EAA+BF,KAA/B;AACAf,IAAAA,KAAK,CAACkB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYC,mBAAmB,CAACC,cAApB,EAA7D;AACAN,IAAAA,YAAY,CAACO,OAAb,CAAqB,mBAArB,EAA0CT,QAA1C,EAJ2C,CAK3C;AACA;;AACA,SAAKU,sBAAL;AACH;;AAEDC,EAAAA,cAAc,CAACV,KAAD,EAAQ;AAClB,WAAO,YAAYA,KAAnB;AACH;;AAEDS,EAAAA,sBAAsB,GAAG;AACrBxB,IAAAA,KAAK,CAAC0B,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACIC,MAAM,IAAI;AACN,YAAMd,KAAK,GAAGC,YAAY,CAACc,OAAb,CAAqB,OAArB,CAAd;;AACA,UAAIf,KAAJ,EAAW;AACPc,QAAAA,MAAM,CAACV,OAAP,CAAe,eAAf,IAAkC,YAAYJ,KAA9C;AACH,OAJK,CAKN;;;AACA,aAAOc,MAAP;AACH,KARL,EASIE,KAAK,IAAI;AACLC,MAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf;AACH,KAXL;AAYH;;AAEDG,EAAAA,MAAM,GAAG;AACL;AACAlB,IAAAA,YAAY,CAACmB,UAAb,CAAwB,mBAAxB;AACAnB,IAAAA,YAAY,CAACmB,UAAb,CAAwB,OAAxB;AACH;;AAEDC,EAAAA,cAAc,GAAG;AACb,UAAMrB,KAAK,GAAGC,YAAY,CAACc,OAAb,CAAqB,OAArB,CAAd;AACAnB,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;;AAEA,QAAIA,KAAJ,EAAW;AACP,aAAO,IAAP;AACH;;AAED,WAAO,KAAP;AACH;;AAEDsB,EAAAA,mBAAmB,GAAG;AAClB;AACA,QAAIC,IAAI,GAAGtB,YAAY,CAACc,OAAb,CAAqB,mBAArB,CAAX;AACA,QAAGQ,IAAI,KAAG,IAAV,EAAgB,OAAO,EAAP;AAChB,WAAOA,IAAP;AACH;;AArEuB;;AAwE5B,eAAe,IAAIrC,qBAAJ,EAAf","sourcesContent":["import axios from 'axios'\n\nclass AuthenticationService {\n    // send username, password to the SERVER\n    executeJwtAuthenticationService(email, name, password,tel, point, writerFlag) {\n        return axios.post('api/user/join', {\n            email, \n            name,\n            password,\n            tel,\n            point,\n            writerFlag, \n        })\n    }\n\n    executeHelloService() {\n        console.log(\"===executeHelloService===\")    \n    }\n\n    registerSuccessfulLoginForJwt(username, token) {\n        console.log(\"===registerSuccessfulLoginForJwt===\")\n        localStorage.setToken('token', token);\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorageService.getAccessToken();\n        localStorage.setItem('authenticatedUser', username);\n        // sessionStorage.setItem('authenticatedUser', username)\n        //this.setupAxiosInterceptors(this.createJWTToken(token))\n        this.setupAxiosInterceptors();\n    }\n\n    createJWTToken(token) {\n        return 'Bearer ' + token\n    }\n\n    setupAxiosInterceptors() {\n        axios.interceptors.request.use(\n            config => {\n                const token = localStorage.getItem('token');\n                if (token) {\n                    config.headers['Authorization'] = 'Bearer ' + token;\n                }\n                // config.headers['Content-Type'] = 'application/json';\n                return config;\n            },\n            error => {\n                Promise.reject(error)\n            });\n    }\n\n    logout() {\n        //sessionStorage.removeItem('authenticatedUser');\n        localStorage.removeItem(\"authenticatedUser\");\n        localStorage.removeItem(\"token\");\n    }\n\n    isUserLoggedIn() {\n        const token = localStorage.getItem('token');\n        console.log(\"===UserloggedInCheck===\");\n        console.log(token);\n\n        if (token) {\n            return true;\n        }\n        \n        return false;\n    }\n\n    getLoggedInUserName() {\n        //let user = sessionStorage.getItem('authenticatedUser')\n        let user = localStorage.getItem('authenticatedUser');\n        if(user===null) return '';\n        return user;\n    }\n}\n\nexport default new AuthenticationService()"]},"metadata":{},"sourceType":"module"}